(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2766:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(8785)}])},8785:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Home}});var l=a(4246),n=a(7378);let i={template1:{file:"theme-01.png",label:"Template 1"},template2:{file:"theme-02.png",label:"Template 2"},template3:{file:"theme-03.png",label:"Template 3"},template4:{file:"theme-04.png",label:"Template 4"},template5:{file:"theme-05.png",label:"Template 5"},template6:{file:"theme-06.png",label:"Template 6"}},s={ENDPOINTS:{GENERATE_IMAGE:"/api/generate-image"},METHODS:{POST:"POST"},HEADERS:{CONTENT_TYPE:"application/json"}},r={DEFAULT_FILENAME:"quote-images",FILE_EXTENSION:".png",MIME_TYPE:"image/png"};let DownloadService=class DownloadService{static downloadImage(e,t){try{let a=atob(e),l=Array(a.length);for(let e=0;e<a.length;e++)l[e]=a.charCodeAt(e);let n=new Uint8Array(l),i=new Blob([n],{type:r.MIME_TYPE}),s=window.URL.createObjectURL(i),o=document.createElement("a");return o.href=s,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(s),!0}catch(e){return console.error("Error downloading image:",e),!1}}static downloadAllAsZip(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.DEFAULT_FILENAME;e.forEach((e,a)=>{let l="".concat(t,"-").concat(a+1).concat(r.FILE_EXTENSION);this.downloadImage(e.data,l)})}static generateFilename(e,t,a){let l=e.replace("template",""),n=new Date().toISOString().slice(0,10);return"quote-".concat(l,"-").concat(n,"-").concat(t+1).concat(r.FILE_EXTENSION)}};function ImagePreview(e){let{images:t,template:a}=e,[i,s]=(0,n.useState)(!1);if(!t||0===t.length)return null;let handleDownloadImage=(e,l)=>{let n=DownloadService.generateFilename(a,l,t.length);DownloadService.downloadImage(e.data,n)};return(0,l.jsxs)("div",{className:"image-preview",children:[(0,l.jsxs)("div",{className:"image-preview-header",children:[(0,l.jsxs)("h3",{children:["Generated Images (",t.length,")"]}),(0,l.jsx)("button",{onClick:()=>{s(!0);let e="quote-".concat(a.replace("template",""),"-").concat(new Date().toISOString().slice(0,10));DownloadService.downloadAllAsZip(t,e),setTimeout(()=>s(!1),1e3)},disabled:i,className:"download-all-btn",children:i?"Downloading...":"Download All"})]}),(0,l.jsx)("div",{className:"image-grid",children:t.map((e,t)=>(0,l.jsxs)("div",{className:"image-item",children:[(0,l.jsx)("div",{className:"image-container",children:(0,l.jsx)("img",{src:"data:".concat(e.mimeType,";base64,").concat(e.data),alt:"Generated quote ".concat(t+1),className:"generated-image"})}),(0,l.jsxs)("button",{onClick:()=>handleDownloadImage(e,t),className:"download-btn",children:["Download Image ",t+1]})]},e.id))})]})}let TemplateService=class TemplateService{static getTemplateConfig(e){return i[e]||i.template1}static getAllTemplates(){return Object.entries(i).map(([e,t])=>({value:e,label:t.label}))}static getTemplateFileName(e){let t=this.getTemplateConfig(e);return t.file}static templateExists(e){return e in i}static getTemplateMapping(){let e={};return Object.entries(i).forEach(([t,a])=>{e[t]=a.file}),e}};function QuoteForm(){let[e,t]=(0,n.useState)(""),[a,i]=(0,n.useState)("template1"),[r,o]=(0,n.useState)(!1),[c,m]=(0,n.useState)(""),[d,u]=(0,n.useState)([]),handleSubmit=async t=>{t.preventDefault(),o(!0),m(""),u([]);try{let t=await fetch(s.ENDPOINTS.GENERATE_IMAGE,{method:s.METHODS.POST,headers:{"Content-Type":s.HEADERS.CONTENT_TYPE},body:JSON.stringify({text:e,template:a})}),l=await t.json();l.success?(m("Generated ".concat(l.imageCount," image(s) successfully!")),u(l.images||[])):m("Error generating images. Please try again.")}catch(e){m("Error: "+e.message)}finally{o(!1)}};return(0,l.jsxs)("form",{onSubmit:handleSubmit,className:"quote-form",children:[(0,l.jsx)("textarea",{value:e,onChange:e=>t(e.target.value),placeholder:"Enter your quote here... Use **bold** for emphasis. Use '---' to separate multiple images.",rows:6,required:!0}),(0,l.jsxs)("div",{className:"template-selector",children:[(0,l.jsx)("label",{children:"Select Template:"}),(0,l.jsx)("div",{className:"template-options",children:TemplateService.getAllTemplates().map(e=>(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",value:e.value,checked:a===e.value,onChange:e=>i(e.target.value)}),e.label]},e.value))})]}),(0,l.jsx)("button",{type:"submit",disabled:r,children:r?"Generating...":"Generate Images"}),c&&(0,l.jsx)("p",{className:"message",children:c}),d.length>0&&(0,l.jsx)(ImagePreview,{images:d,template:a})]})}function Home(){return(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("h1",{children:"Quote Image Generator"}),(0,l.jsx)(QuoteForm,{})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=2766)}),_N_E=e.O()}]);